# Example Caddyfile to use with https://caddyserver.com
#
# This assumes Konnect is running with identifier on konnectd:8777.

oidc-provider.nexus.test:443 {
	errors stderr
	log stdout

	tls /etc/ssl/nexus.crt /etc/ssl/nexus.key

	# konnect oidc
	proxy / konnectd:8777
	#proxy /.well-known/openid-configuration konnectd:8777
	#proxy /konnect/v1/jwks.json konnectd:8777
	#proxy /konnect/v1/token konnectd:8777
	#proxy /konnect/v1/userinfo konnectd:8777
	#proxy /konnect/v1/static konnectd:8777
	#proxy /konnect/v1/session konnectd:8777

	# konnect identifier login area
	proxy /signin/ konnectd:8777 {
		transparent
	}

}
